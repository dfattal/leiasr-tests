<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LeiaSR SDK: Device Enable/Disable</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sr-logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LeiaSR SDK<span id="projectnumber">&#160;3e4093ae v1.34.8.37806 2025-10-23T12:33:42Z</span>
   </div>
   <div id="projectbrief">Stable</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Device Enable/Disable </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_common_device_enable_disable"></a></p>
<h1><a class="anchor" id="autotoc_md25"></a>
Camera</h1>
<p >This chapter will describe various scenarios that can impact the LeiaSR camera device being enabled or disabled. Each section will contain a flowchart with some added information where required.</p>
<p >Note, Realsense cameras are always enabled. The rest of the document describes the behavior of media foundation cameras.</p>
<h2><a class="anchor" id="autotoc_md26"></a>
Start/Stopping the Eye Tracker Service</h2>
<p >Figure 1 describes the main loop of the eye tracker. Launching the eye tracker will enable the camera device in case it was disabled. The eye tracker will always launch in pause mode. When an application is launched that requires eye tracking, we resume the eye tracker and enable the camera. The eye tracker will be paused again when all applications that require eye tracking are closed.</p>
<p >Installing the LeiaSR platform gives the same behavior as starting the eye tracker.</p>
<p ><img src="Camera_general.png" alt="" class="inline" title="The main loop of the Eye Tracker"/></p>
<ol type="1">
<li>Behavior is different for devices that have a camera module with VID: 04F2 PID: B70C. In that case launching the eye tracker will not enable the camera if it was already disabled.</li>
<li>Pausing the eye tracker while it is already paused will not disable the camera. This can happen after starting the eye tracker or attaching a device.</li>
</ol>
<h2><a class="anchor" id="autotoc_md27"></a>
Sleep/Hibernate Resume the Device</h2>
<p >Sleeping or hibernating the device have the same behavior so they are grouped together. In general, putting the device to sleep will disable the camera. Resuming the device will restore the state of the camera device as it was before putting the device to sleep. The full behavior is described in Figure 2.</p>
<p >However, as noted before<sup>2</sup>, if the camera device is already enabled and the eye tracker is in pause mode when the device is put to sleep, the camera will stay enabled.</p>
<p ><img src="sleep_resume_camera.png" alt="" class="inline" title="Flow charts describing the camera device state when sleeping the device and then resuming"/></p>
<ol type="1">
<li>When putting the device to sleep it is possible for the camera device to be disabled and enabled again before the device enters sleep mode. For normal behavior the camera should be disabled when the device goes to sleep and only be enabled again when the device wakes up. The problem here is that the camera is enabled again before the device sleeps.</li>
</ol>
<h2><a class="anchor" id="autotoc_md28"></a>
Start/Stopping the LeiaSR Service</h2>
<p >Stopping the LeiaSR service shows the same behavior as when we put the device to sleep. The camera generally stays in the same state as it was before unless the eye tracker is active, in that case the camera goes from being enabled to disabled.</p>
<p >When starting the LeiaSR service again we see the same behavior as when starting the LeiaSR eye tracker, the camera will always end up enabled no matter the starting state<sup>1</sup>.</p>
<h2><a class="anchor" id="autotoc_md29"></a>
Attach/Detach the Device</h2>
<p >Figure 3 below shows the behavior when you detach the device and then attach it again. We assume here that the device only uses a single USB cable to connect both the FPC and camera. Attaching the device is similar to starting the eye tracker service and so, the camera will always be enabled after attaching.</p>
<p ><img src="attach_detach_camera.png" alt="" class="inline" title="Attach/Detach behavior"/></p>
<h1><a class="anchor" id="autotoc_md30"></a>
FPC</h1>
<p >The behavior for the FPC is simpler than the behavior for the camera and can be described in a single chart. Figure 4 below illustrates the full behavior of when the FPC device is enabled or disabled.</p>
<p >In general, the FPC is only disabled when the device is sleeping or hibernating. While the device is on, the FPC is enabled.</p>
<p >If the FPC was disabled while the LeiaSR Service was not running, starting the LeiaSR service will enable the FPC. Installing the LeiaSR platform has the same behavior as starting the LeiaSR service.</p>
<p ><img src="general_fpc.png" alt="" class="inline" title="The full behavior of the FPC device enabled state"/></p>
<h2><a class="anchor" id="autotoc_md31"></a>
LeiaSR Service and LeiaSR Eye Tracker Service</h2>
<p >The LeiaSR eye tracker service has no impact on the FPC, therefore, starting and stopping the eye tracker also has no impact.</p>
<p >Starting the LeiaSR service is described in Figure 4. Stopping the LeiaSR service does not change the current state of the FPC. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>

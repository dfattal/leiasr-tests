<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LeiaSR SDK: LeiaSR Application guidelines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sr-logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LeiaSR SDK<span id="projectnumber">&#160;3e4093ae v1.34.8.37806 2025-10-23T12:33:42Z</span>
   </div>
   <div id="projectbrief">Stable</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">LeiaSR Application guidelines </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_common_application_guidelines"></a>Rules and Recommendations for making LeiaSR applications</p>
<h1><a class="anchor" id="autotoc_md0"></a>
Introduction</h1>
<p >This document describes Rules and Recommendations for making LeiaSR applications.</p>
<p >The <em>Rules</em> must be followed for any LeiaSR application. Otherwise your application or some other LeiaSR applications on the user’s system may not work.</p>
<p >The <em>Recommendations</em> are optional: you may choose to ignore them.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Terms and Conditions</h1>
<p >An application developer is expected to understand and comply to the Terms &amp; Conditions that accompany the LeiaSR SDK. Furthermore, for publishing an application on the LeiaSR App Store a developer should register as such, for which another Terms &amp; Conditions apply.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
LeiaSR overview</h1>
<p >LeiaSR is experiencing virtual objects as if they exist in the real world, without any wearables.</p>
<p >LeiaSR is an immersive experience yet has several particularities that makes it different than VR or AR. A LeiaSR device works like a virtual window. What makes it interesting, is that an object can move between being inside or outside the window. The main difference with other technologies is that with LeiaSR there is no need to wear a headset to see depth. Additionally, there is the possibility of interacting with virtual objects without wearables.</p>
<p >The field of view is limited to the size of the display, unlike VR or AR, which can allow 360 degrees of freedom if the user moves around. Also, LeiaSR deals with virtual worlds and do not mixed reality with virtual creations. Note that these differences can be overcome by new ways of interacting with the simulated world. We will always encourage developers to explore new ways of applying LeiaSR to improve user’s experience.</p>
<p >The display has a <em>lens</em> that directs the pixel’s light in a certain direction. This means from one angle, a certain set of pixels can be seen, and from another angle another set of pixels. This allows the LeiaSR system to display a different image for the left eye and the right eye. The lens can be switched on or off.</p>
<p >Another important part is the eye tracker. The eye tracker produces a stream of eye pairs: x, y, z coordinates of the user’s eyes. These eye pairs should be used correctly in the LeiaSR application to produce the best result.</p>
<p >Displaying images in LeiaSR consists of two parts: look-around and weaving.</p>
<p >Look-around means the user can “look around” the image by changing their position. The perspective in the image should change to match their viewing position. It results in a “left image” with the perspective as seen from the left eye, and a “right image” with the perspective as seen from the right eye.</p>
<p >Weaving means combining the left and right images into one image displayed on screen. The pixels which can be seen from the left eye will show the left image, and the pixels which can be seen from the right eye will show the right image.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
General</h1>
<ul>
<li>Rule: Fill in the Product Name in the executable properties with a user-friendly name for your application, if possible. Explanation: The user can see which LeiaSR applications are currently running. This is the name they will see. Note that for Unreal Engine applications, this may not be possible.</li>
<li>Rule: Do not shut down or restart any LeiaSR services. Explanation: These can be in use by other LeiaSR applications.</li>
<li>Rule: Do not change global settings which impact other LeiaSR applications. Explanation: Changing these settings can negatively affect other LeiaSR applications. In particular, do not change power modes or global settings of the video driver.</li>
<li>Rule: Use only one LeiaSR context per application. Explanation: The LeiaSR context is designed to be global to an application. Specifically, do not create separate LeiaSR contexts per tab of your application.</li>
<li>Recommendation: Destroy the LeiaSR context when running in the background (for example minimized to tray) for extended periods of time. Explanation: The user can see which LeiaSR applications are currently running. Your application would appear in this list even if the user thinks it has closed.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Lens switching</h1>
<p >The lens can be switched on or off. When switched on, the light of each pixel is directed in a certain direction. This is also called 3D mode. When switched off, the light passes through without changing direction, as if there is no lens on the display. This is also called 2D mode.</p>
<p >The application can request the lens to be on by setting the <em>lens hint</em>. It should unset the lens hint when it is no longer displaying 3D content. The application is responsible for doing this correctly. If no application has their lens hint set, the lens switches off.</p>
<p >The lens state can change outside of the control of the application. The application is responsible for responding to the lens state by displaying appropriate content (2D when off, 3D when on).</p>
<p >Switching the lens on takes less than a second, switching the lens off can take a few seconds.</p>
<ul>
<li>Rule: Do not show exclusively 2D content when the lens is on. Explanation: When the lens is on, 2D content is distorted.</li>
<li>Rule: Unset the lens hint when showing exclusively 2D content. Explanation: When the lens is on, 2D content is distorted. By unsetting the lens hint, the lens should turn off.</li>
<li>Rule: Do not show 3D content when the lens is off. Explanation: When the lens is off, the left and right images of 3D content will appear half-transparent on top of each other.</li>
<li>Rule: Set the lens hint before showing 3D content. Explanation: When the lens is off, the left and right images of 3D content will appear half-transparent on top of each other. By setting the lens hint, the lens should turn on.</li>
<li>Rule: When a LeiaSR Context object is created, show 3D content or unset the lens hint. Explanation: The lens is on by default.</li>
<li>Rule: Unset the lens hint when minimizing the application. Explanation: When the application is minimized, it can no longer display 3D content.</li>
<li>Rule: Unset the lens hint and show 2D content when the application loses focus. Explanation: There could be a non-LeiaSR application window displayed in front of the application. The lens must be off to display that window correctly.</li>
<li>Recommendation: Avoid switching the lens on and off quickly. Explanation: The content is distorted during lens switching, which can take a few seconds.</li>
<li>Recommendation: Treat lens switching as instantaneous. Explanation: Lens switching can take a few seconds, but the application does not know when it is finished. It is easier to treat lens switching as instantaneous.</li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
System events</h1>
<p >The System Sense generates events about the global state of the LeiaSR system.</p>
<ul>
<li>Rule: Show 2D content when receiving the SRUnavailable event (until the SRRestored event). Explanation: The LeiaSR system can be unavailable outside of the application’s control. The lens will be switched off. This takes precedence over the lens hint.</li>
<li>Rule: Handle the ContextInvalid event. Explanation: The LeiaSR connection encountered a problem. Do not continue to use this connection.</li>
<li>Recommendation: Rebuild the LeiaSR connection when receiving the ContextInvalid event. Explanation: The LeiaSR connection encountered a problem. Rebuilding the connection solves the issue.</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Rendering</h1>
<p >Look-around and weaving depends on the user’s viewing position. It is important to render using the correct projection and to keep the latency as low as possible.</p>
<p >Look-around is created when the left and right images are rendered by the LeiaSR application. The LeiaSR application developers are responsible for implementing the correct projection calculation, similar to the examples provided in the LeiaSR SDK.</p>
<p >Weaving combines these left and right images into one. This is done by the weaving plugin. The LeiaSR application developers are responsible for adding this step to their render pipeline.</p>
<ul>
<li>Rule: Always weave content in real-time. Never pre-weave content. Explanation: The woven image depends on the user’s viewing position. When the woven image is rendered for a different viewing position, the left and right images appear half-transparent on top of each other.</li>
<li>Rule: When rendering content in real-time, use the user’s viewing position for projection calculation. Explanation: The left and right image projection should depend on the user’s viewing position to create look-around.</li>
<li>Rule: Do not apply post-processing effects on the woven image. No anti-aliasing. Explanation: Weaving depends on the physical properties of the lens on the device. The woven image must be displayed exactly as calculated by the LeiaSR weaver. However, it is safe to apply post-processing effects on the left and right images separately before weaving.</li>
<li>Rule: Do not display content woven on one LeiaSR device on another LeiaSR device. Explanation: Weaving depends on the physical properties of the lens on the device. Content that was calculated for one device, will not be displayed correctly on another device.</li>
<li>Rule: Use borderless full-screen mode. Explanation: The lens can only be switched on or off for the entire screen. Windowed LeiaSR applications are currently not supported. Exclusive full-screen mode can cause issues when the application loses focus.</li>
<li>Rule: Render time should be below one frame (16.6ms at 60 Hz). Explanation: Rendered frames should not be buffered to keep latency low.</li>
<li>Rule: Enable v-sync. Explanation: The content can show tearing or other artifacts when v-sync is disabled.</li>
<li>Recommendation: Avoid pre-rendering the left and right images before weaving. Explanation: The left and right image projection should depend on the user’s viewing position to create look-around. With pre-rendered left and right images, the content appears to change position to always face the user and look-around does not work.</li>
<li>Recommendation: Perform projection calculation using the user’s viewing position as late as possible. Explanation: The user’s viewing position constantly changes. By performing this stage as late as possible, the calculation uses the latest viewing position which best matches the user.</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
Latency compensation</h1>
<p >The LeiaSR tracking systems depend on data from sensors in the device, these are recorded, processed and used to enable features like look-around and weaving. A non-zero amount of time passes between the recordings of these sensors and the presentation of the resulting images to the user on their LeiaSR display.</p>
<p >To improve responsiveness, predictive filtering can be applied to the tracking data, if the developer doesn't explicitly define other behavior, this will be applied system-wide. However, to accomodate a wide range of applications we've provided interfaces that allow the developer to take more control of this process.</p>
<ul>
<li>Recommendation: Before turning to latency compensation, prioritize reducing latency of your application. Explanation: Predictive filtering can help compensate for existing latency but predicting the future is difficult and there are limits to the effectiveness of predictive filtering.</li>
<li>Rule: Do not attempt to apply prediction for more than 200 milliseconds in the future. Explanation: The user is too unpredictable to provide effective predictions past this point purely based on the movements of the user before the prediction is made.</li>
<li>Recommendation: For the most reliable results apply a prediction in sync with the display refreshrate. (V-sync) Explanation: Images are presented to the user at a fixed pace. If predictions are not made in a similarly consistent way, the <em>real</em> latency from the point of the <code>predict</code> call will vary and the experience will me inconsistent.</li>
<li>Recommendation: Consistenly underestimate the latency of your application. Explanation: Making predictions for more than the latency of the application will introduce unnescessary instability in the look-around and weaving.</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Creating and Destroying Objects</h1>
<p >Only objects that are explicitly created using new by the developer should be manually deleted. Objects created through create() functions are lifecycle-managed by <a class="el" href="classSR_1_1SRContext.html" title="Maintains WorldObject and Sense objects during the application lifetime.">SR::SRContext</a>, and explicit deletion is not required (or allowed). These objects are automatically cleaned up when <a class="el" href="classSR_1_1SRContext.html" title="Maintains WorldObject and Sense objects during the application lifetime.">SR::SRContext</a> is destroyed. Calling delete on such objects directly will result in a crash. If a full teardown is required, the proper sequence should be as follows:</p>
<p ><code>delete weaver;</code> <code>weaver = nullptr;</code> <code>SR::SRContext::deleteSRContext(context);</code> <code>context = nullptr;</code></p>
<h1><a class="anchor" id="autotoc_md9"></a>
Unreal Engine</h1>
<p >Enable the LeiaSR rendering pipeline by enabling “Simulated Reality Enabled” in the SRUnreal settings. Specific Rules and Recommendations for Unreal Engine are distributed with the SRUnreal plugin. Some important points are below. For the full list, see the SRUnreal plugin.</p>
<ul>
<li>Rule: Disable all VR plugins. Explanation: VR plugins interfere with the LeiaSR plugin.</li>
<li>Rule: Enable forward rendering. Explanation: This allows lower latency.</li>
<li>Recommendation: For complex scenes, enable VR instanced stereo rendering. Explanation: This allows faster rendering</li>
</ul>
<h1><a class="anchor" id="autotoc_md10"></a>
Unity</h1>
<p >Add the package to your project and use the SimulatedRealityCamera prefab to enable LeiaSR. Specific Rules and Recommendations for Unity are distributed with the SRUnity plugin. Some important points are below. For the full list, see the SRUnity plugin.</p>
<ul>
<li>Rule: Disable all VR plugins. Explanation: VR plugins interfere with the LeiaSR plugin.</li>
<li>Rule: Use the SimulatedRealityCamera prefab instead of the default camera. Explanation: The default camera does not work with LeiaSR.</li>
<li>Rule: Use the SimulatedRealityUI prefab canvas instead of the default UI canvas. Explanation: The default UI does not work with LeiaSR. Note that not all UI elements may be supported on this canvas.</li>
<li>Recommendation: Decide the scaling mode (uniform scaling / non uniform scaling). Explanation: LeiaSR devices come in different sizes. Consider using uniform scaling for objects with a real-world size, for example faces or household objects.</li>
</ul>
<h1><a class="anchor" id="autotoc_md11"></a>
Content</h1>
<p >What content works best on LeiaSR is subjective, so this section has only guidelines.</p>
<ul>
<li>Recommendation: Use the largest resolution that the display can resolve. Explanation: At higher resolutions, the brain can process better the information about depth.</li>
<li>Recommendation: Avoid placing objects in areas where the eyes have problems to focus on the object, such as very close to the user. Explanation: Having to focus on such an object can cause discomfort.</li>
<li>Recommendation: Avoid placing objects near stereo infinity. Explanation: Objects very far, like stars, require quite some effort for the user due to free viewing. In LeiaSR displays it is better to prevent this situation or make a smooth transition between objects at display depth and far away.</li>
<li>Recommendation: Do not create large depth jumps between objects. Explanation: These jumps are difficult to fuse by the eyes. The near and far objects appear disconnected instead of one three-dimensional scene, causing discomfort.</li>
<li>Recommendation: Create content for a specific screen size and specific viewing distance. Explanation: A different screen size or viewing distance will have a different field of view. This can lead to objects at the edges being out of view, or other issues. It is easier to develop for one specific screen size and viewing distance.</li>
<li>Recommendation: Avoid border violations (objects sticking out through the edges of the display). Explanation: The part of the object that sticks out, cannot be rendered on the screen for one of the eyes. This causes the object to be “cut off”, breaking immersion.</li>
<li>Recommendation: Avoid a too strong 3D effect. Explanation: Let the user accommodate with some depth and then increase the effect slowly.</li>
<li>Recommendation: Avoid pushing the background too far away. Explanation: With far away backgrounds, small changes in the user’s viewing position lead to a large change in the position of the background. The scene can appear to be shaking.</li>
<li>Recommendation: Avoid high contrast at objects far away or close by. Explanation: Some small percentage of the left and right image are seen by the other eye. This becomes noticeable when the contrast is high, producing crosstalk (“ghost image”).</li>
<li>Recommendation: Avoid out of focus areas. Explanation: Users can scan the scene and expect perfect focus for the area they look at.</li>
<li>Recommendation: Avoid high frequency content. Explanation: Small content like small font text can give issues if the lens array cannot resolve it. Increasing the font size, decrease the resolution of the texture and using an anti-aliasing filter are some ways to fix possible issues.</li>
<li>Recommendation: Specifically test the appearance of objects near the edges of the display. Explanation: Even without border violations, the edges may show some crosstalk (“ghost image”) under large angles. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>

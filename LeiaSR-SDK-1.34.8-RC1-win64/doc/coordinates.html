<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LeiaSR SDK: Coordinate System</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sr-logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LeiaSR SDK<span id="projectnumber">&#160;3e4093ae v1.34.8.37806 2025-10-23T12:33:42Z</span>
   </div>
   <div id="projectbrief">Stable</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Coordinate System </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_common_coordinatesystem"></a></p>
<p >There are many ways to represent and reason about three-dimensional data. Points in space are relative to a certain reference frame, this is described in depth in the following sections.</p>
<ol type="1">
<li><a class="el" href="coordinates.html#srcoordinates">LeiaSR Coordinate System</a></li>
<li><a class="el" href="coordinates.html#thirdpartycoordinates">Third-party Coordinate Systems</a></li>
</ol>
<h1><a class="anchor" id="srcoordinates"></a>
LeiaSR Coordinate System</h1>
<p >All point based output generated by LeiaSR interfaces, such as the eye positions and the head position, is expressed as a 3-dimensional vector [X, Y, Z] related to the following coordinate space:</p>
<ul>
<li>The origin is located on the center of the display</li>
<li>The positive X direction is towards the right from the perspective of the user</li>
<li>The positive Y direction is upwards from the perspective of the user</li>
<li>The positive Z direction is backwards from the perspective of the user</li>
<li>All values are expressed in millimeters</li>
</ul>
<p >See the picture below for an illustration of the coordinate system.</p>
<p ><img src="output_coordinate_system.svg" alt="" style="pointer-events: none;" class="inline" title="Display coordinate system"/></p>
<p >Head orientation output is expressed as a 3-dimensional vector [pitch, yaw, roll], where the pitch increases when the user rotates his head upwards, the yaw increases if the user rotates his head to the left and the roll increases when the user tilts their head to the left, all from the perspective of the user. See the picture below for an illustration.</p>
<p ><img src="yaw_pitch_roll.svg" alt="" style="pointer-events: none;" class="inline" title="Head orientation"/></p>
<p >All orientation data is expressed in degrees, and the orientation is zero when the user looks straight at the device.</p>
<p ><b>Note: When defining interactions, this is all you need to know about the LeiaSR coordinate system. The following section simply provides additional context</b></p>
<h2><a class="anchor" id="autotoc_md17"></a>
Coordinates from the perspective of the device</h2>
<p >The reason for constructing the coordinate system as defined is as follows. LeiaSR applications are inherently interactive. Applications are not just projecting objects in a virtual space onto the display. The user's position with respect to the display is observed by a camera (and projected onto an image). Pixels in camera images can be characterized by a color and a location represented by a two-dimensional coordinate. In this case the matrix of pixels has rows (Y) and collumns (X) as below.</p>
<p ><img src="camera_image_coordinate_system.svg" alt="" style="pointer-events: none;" class="inline" title="Camera image coordinates"/></p>
<p >From the perspective of the camera, if we add depth to the image we get the following.</p>
<p ><img src="camera_coordinate_system.svg" alt="" style="pointer-events: none;" class="inline" title="Camera coordinate system"/></p>
<p ><img src="camera_coordinate_system_display.svg" alt="" style="pointer-events: none;" class="inline" title="Camera coordinate system from the perspective of the user"/></p>
<p >To match what you would expect when looking at a traditional set of axes (on any graph) we rotate the coordinate system 180 degrees along the Z axis. This results in a coordinate system that is equivalent to the one described in the previous section where moving the point right results in a larger value for X and moving the point up results in a larger value for Y..</p>
<h1><a class="anchor" id="thirdpartycoordinates"></a>
Third-party Coordinate Systems</h1>
<p >The position of the user's eyes in the LeiaSR Coordinate System may need to be converted to some third-party specific convention to enable the construction of eye specific projection matrices. This is demonstrated below for several frameworks.</p>
<p >For some frameworks, the LeiaSR coordinate system can be used directly, you may have to rotate the virtual camera but no specific conversions are required. The LeiaSR coordinate system is right-handed, if a framework uses a left-handed coordinate system a specific conversion is required.</p>
<h2><a class="anchor" id="autotoc_md18"></a>
Unreal Engine</h2>
<p >Unreal Engine employs a left-handed coordinate system. LeiaSR coordinates need to be converted to a left-handed system to be used for interactions in the virtual environment offered by Unreal Engine. Unreal Engine also has some specific conventions that we want to be compatible with. The Unreal plugin converts the input point and constructs FVector(X, Y, Z) such that <code>FVector(float(-SrVector.z), float(SrVector.x), float(SrVector.y))</code> This means that the X axis is pointing into the screen, the Y axis is pointing right and the Z axis is pointing up from the perspective of the viewer. Projections based on eye positions are also automatically generated by the Unreal plugin.</p>
<p ><img src="unreal_coordinate_system.png" alt="" class="inline" title="Unreal engine screen coordinate system"/></p>
<p >Note that the position of the virtual camera will determine how interactions should be defined.</p>
<h3><a class="anchor" id="autotoc_md19"></a>
Units</h3>
<p >The values of X, Y and Z are expressed in centimeters after conversion to the Unreal Engine coordinate system.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
Unity</h2>
<p >Unity employs a left-handed coordinate system. LeiaSR coordinates need to be converted to a left-handed system to be used for interactions in the virtual environment offered by Unity. The Unity plugin does this by multiplying flipping the Z coordinate. (multiplying with -1) This means that the Z axis will be pointing into the screen. Projections based on eye positions are also automatically generated by the Unity plugin.</p>
<p ><img src="unity_coordinate_system.png" alt="" class="inline" title="Unreal engine screen coordinate system"/></p>
<p >Note that the position of the virtual camera will determine how interactions should be defined.</p>
<h3><a class="anchor" id="autotoc_md21"></a>
Units</h3>
<p >The values of X, Y and Z are expressed in meters after conversion to the Unity coordinate system.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
C++ &amp; OpenGL / DirectX</h2>
<p >Applications that have full control over the rendering pipeline are not bound to using any type of 'handedness' for defining their projections and/or logic. The screen coordinate system that is used by the shader programs is defined as follows.</p>
<p ><img src="screen_coordinate_system.svg" alt="" style="pointer-events: none;" class="inline" title="Screen coordinate system"/></p>
<h3><a class="anchor" id="autotoc_md23"></a>
Units</h3>
<p >The values of the X and Y coordinates in the screen coordinate system are related to the height and width of the screen. An X value of 1 refers to the right-most border of the screen. A Y value of 1 refers to the upper-most border of the screen.</p>
<h3><a class="anchor" id="autotoc_md24"></a>
Projection onto the screen coordinate system</h3>
<p >An example of projection onto the screen coordinate system can be found in the <a class="el" href="example_opengl_weaving.html">OpenGL example</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
